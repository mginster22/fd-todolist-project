{"ast":null,"code":"import ACTION_TYPES from \"../actions/types\";\nimport { produce } from \"immer\";\nconst handlerRequest = produce((draftState, action) => {\n  draftState.isFetching = true;\n});\nconst handlerError = produce((draftState, action) => {\n  draftState.error = action.payload.error;\n});\nconst initialState = {\n  users: [],\n  isFetching: false,\n  error: null,\n  selectedUser: null,\n  offset: 0,\n  currentPage: 1\n};\nconst handlers = {\n  //CREATE\n  [ACTION_TYPES.CREATE_USER_REQUEST]: handlerRequest,\n  [ACTION_TYPES.CREATE_USER_ERROR]: handlerError,\n  [ACTION_TYPES.CREATE_USER_SUCCESS]: produce((draftState, action) => {\n    const {\n      user\n    } = action.payload;\n    console.log(user);\n    draftState.users.push(user);\n  }),\n  //GETALLUSERS\n  [ACTION_TYPES.GET_USERS_REQUEST]: handlerRequest,\n  [ACTION_TYPES.GET_USERS_ERROR]: handlerError,\n  [ACTION_TYPES.GET_USERS_SUCCESS]: produce((draftState, action) => {\n    const {\n      users\n    } = action.payload;\n    draftState.isFetching = false;\n    draftState.users = [];\n    draftState.users.push(...users);\n  }),\n  //GETUSERBYID\n  [ACTION_TYPES.GET_USER_BY_ID_ERROR]: handlerError,\n  [ACTION_TYPES.GET_USER_BY_ID_REQUEST]: handlerRequest,\n  [ACTION_TYPES.GET_USER_BY_ID_SUCCESS]: produce((draftState, action) => {\n    const {\n      user\n    } = action.payload;\n    draftState.isFetching = false;\n    draftState.selectedUser = user;\n  }),\n  //DELETEUSERBYID\n  [ACTION_TYPES.DELETE_USER_BY_ID_REQUEST]: handlerRequest,\n  [ACTION_TYPES.DELETE_USER_BY_ID_SUCCESS]: produce((draftState, action) => {\n    draftState.isFetching = false;\n    draftState.users = draftState.users.filter(u => u.id !== action.payload.user.id);\n  }),\n  //SETOFFSET\n  [ACTION_TYPES.SET_OFFSET]: produce((draftState, action) => {\n    const {\n      offset\n    } = action.payload;\n    draftState.offset = offset;\n  }),\n  [ACTION_TYPES.SET_CURRENT_PAGE]: produce((draftState, action) => {\n    const {\n      currentPage\n    } = action.payload;\n    draftState.currentPage = d;\n  })\n};\n\nfunction userReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const handler = handlers[action.type];\n\n  if (handler) {\n    return handler(state, action);\n  }\n\n  return state;\n}\n\nexport default userReducer;","map":{"version":3,"names":["ACTION_TYPES","produce","handlerRequest","draftState","action","isFetching","handlerError","error","payload","initialState","users","selectedUser","offset","currentPage","handlers","CREATE_USER_REQUEST","CREATE_USER_ERROR","CREATE_USER_SUCCESS","user","console","log","push","GET_USERS_REQUEST","GET_USERS_ERROR","GET_USERS_SUCCESS","GET_USER_BY_ID_ERROR","GET_USER_BY_ID_REQUEST","GET_USER_BY_ID_SUCCESS","DELETE_USER_BY_ID_REQUEST","DELETE_USER_BY_ID_SUCCESS","filter","u","id","SET_OFFSET","SET_CURRENT_PAGE","d","userReducer","state","handler","type"],"sources":["/home/oem/Todo1/client/src/reducers/userReducer.js"],"sourcesContent":["import ACTION_TYPES from \"../actions/types\";\nimport { produce } from \"immer\";\n\nconst handlerRequest = produce((draftState, action) => {\n  draftState.isFetching = true;\n});\nconst handlerError = produce((draftState, action) => {\n  draftState.error = action.payload.error;\n});\n\nconst initialState = {\n  users: [],\n  isFetching: false,\n  error: null,\n  selectedUser: null,\n  offset: 0,\n  currentPage:1\n};\n\nconst handlers = {\n  //CREATE\n  [ACTION_TYPES.CREATE_USER_REQUEST]: handlerRequest,\n  [ACTION_TYPES.CREATE_USER_ERROR]: handlerError,\n  [ACTION_TYPES.CREATE_USER_SUCCESS]: produce((draftState, action) => {\n    const { user } = action.payload;\n    console.log(user);\n    draftState.users.push(user);\n  }),\n  //GETALLUSERS\n  [ACTION_TYPES.GET_USERS_REQUEST]: handlerRequest,\n  [ACTION_TYPES.GET_USERS_ERROR]: handlerError,\n  [ACTION_TYPES.GET_USERS_SUCCESS]: produce((draftState, action) => {\n    const { users } = action.payload;\n    draftState.isFetching = false;\n    draftState.users = [];\n    draftState.users.push(...users);\n  }),\n  //GETUSERBYID\n  [ACTION_TYPES.GET_USER_BY_ID_ERROR]: handlerError,\n  [ACTION_TYPES.GET_USER_BY_ID_REQUEST]: handlerRequest,\n  [ACTION_TYPES.GET_USER_BY_ID_SUCCESS]: produce((draftState, action) => {\n    const { user } = action.payload;\n    draftState.isFetching = false;\n    draftState.selectedUser = user;\n  }),\n  //DELETEUSERBYID\n  [ACTION_TYPES.DELETE_USER_BY_ID_REQUEST]: handlerRequest,\n  [ACTION_TYPES.DELETE_USER_BY_ID_SUCCESS]: produce((draftState, action) => {\n    draftState.isFetching = false;\n    draftState.users = draftState.users.filter(\n      (u) => u.id !== action.payload.user.id\n    );\n  }),\n\n  //SETOFFSET\n  [ACTION_TYPES.SET_OFFSET]:produce((draftState,action)=>{\n    const {offset}=action.payload\n    draftState.offset = offset\n  }),\n  [ACTION_TYPES.SET_CURRENT_PAGE]:produce((draftState,action)=>{\n    const {currentPage}=action.payload\n    draftState.currentPage =d\n  })\n};\n\nfunction userReducer(state = initialState, action) {\n  const handler = handlers[action.type];\n  if (handler) {\n    return handler(state, action);\n  }\n  return state;\n}\n\nexport default userReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}